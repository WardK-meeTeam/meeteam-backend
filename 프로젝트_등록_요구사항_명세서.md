# 프로젝트 등록 API 요구사항 명세서

## 1. 개요

팀원 모집을 위한 프로젝트를 등록하는 기능이다. 사용자는 프로젝트의 기본 정보, 모집 분야, 필요 기술 스택 등을 입력하여 프로젝트를 생성할 수 있다.

---

## 2. 필드 정의

### 2.1 프로젝트 명
| 항목 | 내용 |
|------|------|
| 필수 여부 | **필수** |
| 입력 형식 | 텍스트 |
| 제약 조건 | 최소 1자 이상 |
| placeholder | `프로젝트 이름을 입력해주세요 (예: 여행 기록 공유 플랫폼, 트립로그)` |

### 2.2 GitHub 레포지토리 주소
| 항목 | 내용 |
|------|------|
| 필수 여부 | 선택 |
| 입력 형식 | URL |
| 제약 조건 | 유효한 GitHub URL 형식 (`https://github.com/{owner}/{repo}`) |
| placeholder | `https://github.com/username/repository` |

### 2.3 프로젝트 카테고리
| 항목 | 내용 |
|------|------|
| 필수 여부 | 선택 |
| 입력 형식 | 단일 선택 (택 1) |
| 선택지 | AI/테크, 친환경, 헬스케어, 반려동물, 교육/학습, 패션/뷰티, 금융/핀테크 |

### 2.4 프로젝트 소개 글
| 항목 | 내용 |
|------|------|
| 필수 여부 | **필수** |
| 입력 형식 | 장문 텍스트 (textarea) |
| 제약 조건 | 최소 1자 이상 |
| placeholder | `프로젝트를 설명해주세요` |

### 2.5 출시 플랫폼
| 항목 | 내용 |
|------|------|
| 필수 여부 | 선택 |
| 입력 형식 | 다중 선택 가능 |
| 선택지 | **iOS, Android, Web** |
| 비고 | 3개 플랫폼만 지원 |

### 2.6 프로젝트 커버 이미지
| 항목 | 내용 |
|------|------|
| 필수 여부 | 선택 |
| 입력 형식 | 이미지 업로드 |
| 권장 사이즈 | 1200 x 630px |
| 허용 포맷 | JPG, PNG |

### 2.7 오프라인 정기모임 필수 여부
| 항목 | 내용 |
|------|------|
| 필수 여부 | **필수** (둘 중 하나 선택) |
| 입력 형식 | 라디오 버튼 (택 1) |
| 선택지 | `필수 (주 1회 이상)` / `선택 (협의 가능)` |
| 기본값 | 필수 (주 1회 이상) |

### 2.8 나의 포지션
| 항목 | 내용 |
|------|------|
| 필수 여부 | **필수** |
| 입력 형식 | 직군 드롭다운 선택 + 상세 포지션 텍스트 입력 |
| 구성 | 직군 선택(드롭다운) + 상세 포지션(텍스트) |
| placeholder | `상세 포지션을 입력하세요 (예: UI 디자이너)` |

### 2.9 모집 분야
| 항목 | 내용 |
|------|------|
| 필수 여부 | **필수 (1개 이상)** |
| 입력 형식 | 직군 드롭다운 + 상세 내용 텍스트 + 인원수 |
| 구성 | 직군 선택(드롭다운) + 상세 내용(텍스트) + 모집 인원(숫자, +/- 조절) |
| 추가 | `+ 추가하기` 버튼으로 모집 분야 복수 등록 가능 |
| 제약 조건 | **최소 1개 이상의 모집 분야를 등록해야 한다** |

### 2.10 필요 기술 스택
| 항목 | 내용 |
|------|------|
| 필수 여부 | 선택 |
| 입력 형식 | 태그 검색 입력 (자동완성) |
| 설명 | 기술 스택을 검색하여 태그 형태로 추가, `x` 버튼으로 개별 삭제 가능 |
| placeholder | `기술 스택을 입력하세요 (예: React, Figma)` |

### 2.11 모집 마감일
| 항목 | 내용 |
|------|------|
| 필수 여부 | 선택 |
| 입력 형식 | 날짜 선택 (date picker) 또는 무기한 체크박스 |
| 제약 조건 | 날짜 선택 시 현재 날짜 이후만 가능 |
| 기본값 | 미선택 (무기한) |
| 비고 | **무기한 체크박스** 선택 시 마감일 없이 상시 모집으로 등록된다. 날짜를 선택하면 무기한 체크가 해제되고, 무기한을 체크하면 날짜 입력이 비활성화된다. |

### 2.12 카카오톡 오픈채팅 링크
| 항목 | 내용 |
|------|------|
| 필수 여부 | 선택 |
| 입력 형식 | URL |
| 제약 조건 | 유효한 카카오톡 오픈채팅 URL 형식 (`https://open.kakao.com/o/...`) |
| 비고 | 팀원 간 소통을 위한 오픈채팅 링크를 첨부할 수 있다 |

---

## 3. 유효성 검증 규칙

| 검증 항목 | 규칙 | 에러 메시지 (예시) |
|-----------|------|---------------------|
| 프로젝트 명 | 빈 값 불가 | `프로젝트 명을 입력해주세요` |
| 프로젝트 소개 글 | 빈 값 불가 | `프로젝트 소개 글을 입력해주세요` |
| 출시 플랫폼 | iOS, Android, Web 외 값 불가 | `유효하지 않은 플랫폼입니다` |
| 모집 분야 | 최소 1개 이상 | `모집 분야를 1개 이상 등록해주세요` |
| 모집 인원 | 1 이상의 양수 | `모집 인원은 1명 이상이어야 합니다` |
| 모집 마감일 | 선택 시 현재 날짜 이후 | `모집 마감일은 오늘 이후여야 합니다` |
| GitHub URL | 입력 시 유효한 GitHub URL | `유효한 GitHub 레포지토리 URL을 입력해주세요` |
| 카카오톡 링크 | 입력 시 유효한 오픈채팅 URL | `유효한 카카오톡 오픈채팅 링크를 입력해주세요` |
| 커버 이미지 | 업로드 시 JPG/PNG만 허용 | `JPG 또는 PNG 파일만 업로드 가능합니다` |

---

## 4. 필수/선택 요약

| 필드 | 필수 여부 |
|------|-----------|
| 프로젝트 명 | **필수** |
| GitHub 레포지토리 주소 | 선택 |
| 프로젝트 카테고리 | 선택 |
| 프로젝트 소개 글 | **필수** |
| 출시 플랫폼 | 선택 |
| 프로젝트 커버 이미지 | 선택 |
| 오프라인 정기모임 필수 여부 | **필수** |
| 나의 포지션 | **필수** |
| 모집 분야 (1개 이상) | **필수** |
| 필요 기술 스택 | 선택 |
| 모집 마감일 | 선택 (미선택 시 무기한) |
| 카카오톡 오픈채팅 링크 | 선택 |

---

## 5. 버튼 동작

| 버튼 | 동작 |
|------|------|
| **프로젝트 등록하기** | 유효성 검증 후 프로젝트를 생성한다. 검증 실패 시 해당 필드에 에러 메시지를 표시한다. |
| **취소** | 작성 중인 내용을 폐기하고 이전 페이지로 이동한다. |

---

## 6. Request / Response DTO

### 6.1 Request DTO

#### `POST /api/projects`

> Content-Type: `multipart/form-data`
> 커버 이미지 파일과 JSON 데이터를 함께 전송한다.

**Part 1 — `request` (application/json)**

```json
{
  "title": "여행 기록 공유 플랫폼",
  "description": "여행 경험을 기록하고 공유하는 서비스입니다.",
  "category": "AI_TECH",
  "platform": "IOS",
  "githubUrl": "https://github.com/username/repository",
  "kakaoOpenChatUrl": "https://open.kakao.com/o/gabcdef",
  "isIndefinite": false,
  "deadline": "2026-03-15",
  "myPosition": {
    "role": "BACKEND",
    "detail": "WEB_SERVER"
  },
  "recruitments": [
    {
      "role": "FRONTEND",
      "detail": "WEB_FRONTEND",
      "count": 2
    },
    {
      "role": "DESIGN",
      "detail": "UI_UX_DESIGN",
      "count": 1
    }
  ],
  "skills": ["React", "TypeScript", "Figma"]
}
```

**Part 2 — `coverImage` (image/jpeg | image/png), 선택**

| 필드 | 타입 | 필수 | 설명 |
|------|------|------|------|
| `title` | String | **필수** | 프로젝트 명 (1자 이상) |
| `description` | String | **필수** | 프로젝트 소개 글 (1자 이상) |
| `category` | String (enum) | **필수** | 프로젝트 카테고리 |
| `platform` | String (enum) | **필수** | 출시 플랫폼 (단일 선택) |
| `githubUrl` | String | 선택 | GitHub 레포지토리 URL |
| `kakaoOpenChatUrl` | String | 선택 | 카카오톡 오픈채팅 링크 |
| `isIndefinite` | Boolean | **필수** | 무기한 모집 여부 (`true` 시 `deadline` 무시) |
| `deadline` | String (date) | 조건부 | 모집 마감일 (`isIndefinite`가 `false`일 때 필수, `yyyy-MM-dd`) |
| `myPosition` | Object | **필수** | 등록자 본인의 포지션 |
| `myPosition.role` | String (enum) | **필수** | 직군 (대분류) |
| `myPosition.detail` | String (enum) | **필수** | 상세 포지션 (소분류) |
| `recruitments` | Array | **필수** | 모집 분야 목록 (1개 이상) |
| `recruitments[].role` | String (enum) | **필수** | 모집 직군 (대분류) |
| `recruitments[].detail` | String (enum) | **필수** | 모집 세부 직군 (소분류) |
| `recruitments[].count` | Integer | **필수** | 모집 인원 (1 이상) |
| `skills` | Array\<String\> | 선택 | 필요 기술 스택 이름 목록 |
| `coverImage` | MultipartFile | 선택 | 프로젝트 커버 이미지 (JPG, PNG) |

**Enum 값 정의**

| Enum | 값 |
|------|----|
| `category` | `AI_TECH`, `ECO`, `HEALTHCARE`, `PET`, `EDUCATION`, `FASHION_BEAUTY`, `FINTECH`, `ETC` |
| `platform` | `IOS`, `ANDROID`, `WEB` |
| `role` (직군) | `PLANNING`, `DESIGN`, `FRONTEND`, `BACKEND`, `ETC` |

| role | detail (상세 포지션) |
|------|----------------------|
| `PLANNING` | `PM_PO` |
| `DESIGN` | `GRAPHIC_DESIGN`, `UI_UX_DESIGN`, `MOTION_DESIGN` |
| `FRONTEND` | `WEB_FRONTEND`, `IOS`, `ANDROID`, `CROSS_PLATFORM` |
| `BACKEND` | `WEB_SERVER`, `AI` |
| `ETC` | `ETC` |

---

### 6.2 Response DTO

#### 성공 응답 — `201 Created`

```json
{
  "code": "PROJECT_CREATED",
  "message": "프로젝트가 등록되었습니다.",
  "data": {
    "projectId": 1,
    "title": "여행 기록 공유 플랫폼",
    "description": "여행 경험을 기록하고 공유하는 서비스입니다.",
    "category": "AI_TECH",
    "platform": "IOS",
    "githubUrl": "https://github.com/username/repository",
    "kakaoOpenChatUrl": "https://open.kakao.com/o/gabcdef",
    "coverImageUrl": "https://s3.amazonaws.com/bucket/cover/uuid.png",
    "isIndefinite": false,
    "deadline": "2026-03-15",
    "myPosition": {
      "role": "BACKEND",
      "detail": "WEB_SERVER"
    },
    "recruitments": [
      {
        "role": "FRONTEND",
        "detail": "WEB_FRONTEND",
        "count": 2
      },
      {
        "role": "DESIGN",
        "detail": "UI_UX_DESIGN",
        "count": 1
      }
    ],
    "skills": ["React", "TypeScript", "Figma"],
    "createdAt": "2026-02-04T12:00:00"
  }
}
```

| 필드 | 타입 | 설명 |
|------|------|------|
| `projectId` | Long | 생성된 프로젝트 ID |
| `title` | String | 프로젝트 명 |
| `description` | String | 프로젝트 소개 글 |
| `category` | String | 프로젝트 카테고리 |
| `platform` | String | 출시 플랫폼 |
| `githubUrl` | String \| null | GitHub URL (미입력 시 null) |
| `kakaoOpenChatUrl` | String \| null | 카카오톡 오픈채팅 링크 (미입력 시 null) |
| `coverImageUrl` | String \| null | 업로드된 커버 이미지 S3 URL (미업로드 시 null) |
| `isIndefinite` | Boolean | 무기한 모집 여부 |
| `deadline` | String \| null | 모집 마감일 (무기한 시 null) |
| `myPosition` | Object | 등록자 포지션 |
| `recruitments` | Array | 모집 분야 목록 |
| `skills` | Array\<String\> | 기술 스택 목록 |
| `createdAt` | String (datetime) | 생성 일시 (`yyyy-MM-dd'T'HH:mm:ss`) |

#### 실패 응답 — `400 Bad Request`

```json
{
  "code": "VALIDATION_ERROR",
  "message": "요청 데이터가 유효하지 않습니다.",
  "errors": [
    {
      "field": "title",
      "message": "프로젝트 명을 입력해주세요"
    },
    {
      "field": "recruitments",
      "message": "모집 분야를 1개 이상 등록해주세요"
    }
  ]
}
```
