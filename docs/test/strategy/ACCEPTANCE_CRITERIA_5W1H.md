# 5W1H 프레임워크 기반 인수조건 정의

프로젝트 생성 및 권한 관리 시나리오에 대한 명확한 테스트 목적과 범위를 정의합니다.

## 시나리오: 프로젝트 생성 및 리더 권한 자동 부여

| 구분 | 내용 | 비고 |
| :--- | :--- | :--- |
| **Who (누가)** | 서비스에 가입하고 로그인한 **일반 회원**이 | 인증된 사용자 권한 필요 |
| **When (언제)** | 팀원을 모집하기 위해 **새로운 프로젝트를 등록**할 때 | 프로젝트 생성 API 호출 시 |
| **Where (어디서)** | 프로젝트 관리 도메인 내 **멤버 서비스(ProjectMemberService)**를 통해 | 도메인 로직 수행 영역 |
| **What (무엇을)** | 프로젝트 엔티티를 생성함과 동시에 본인을 **리더(LEADER) 역할**로 | ProjectMemberRole.LEADER |
| **Why (왜)** | 프로젝트에 대한 **관리 권한(수정, 삭제, 팀원 승인 등)을 보장**하기 위해 | 권한 계층 구조의 기초 |
| **How (어떻게)** | `ProjectMember` 테이블에 사용자 ID와 함께 **LEADER 역할을 저장**하여 검증 | DB 정합성 및 API 응답 확인 |

---

## 상세 인수조건 (Acceptance Criteria)

### 1. 기능적 요구사항
- [ ] 회원이 프로젝트 생성 시, `project_member` 테이블에 해당 회원의 정보가 추가되어야 한다.
- [ ] 이때 추가되는 회원의 `role` 값은 반드시 `LEADER`여야 한다.
- [ ] 리더로 지정된 사용자는 이후 프로젝트 상세 조회 시 리더 여부(`isLeader`)가 `true`로 반환되어야 한다.

### 2. 비기능적 요구사항 (예외 케이스)
- [ ] 로그인하지 않은 사용자가 프로젝트 생성을 시도할 경우, 권한 에러(401 Unauthorized)를 반환해야 한다.
- [ ] 프로젝트 생성 과정에서 리더 권한 부여 로직이 실패할 경우, 전체 프로세스는 롤백(Rollback)되어야 한다.

---

## 테스트 설계 전략 (ATDD Connection)

- **Given:** 가입된 회원이 로그인하여 유효한 JWT 토큰을 보유한 상태에서
- **When:** 필수 프로젝트 정보(이름, 카테고리, 모집 직군 등)를 입력하여 생성을 요청하면
- **Then:** HTTP 200 응답과 함께, 리포지토리를 통해 해당 회원이 해당 프로젝트의 `LEADER`임을 확인한다.
