spring:
  sql:
    init:
      mode: never
  datasource:
    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1
    driver-class-name: org.h2.Driver
    username: sa
    password:
  jpa:
    hibernate:
      ddl-auto: create-drop  # 테스트 시작할 때 엔티티 기반으로 테이블 생성, 끝나면 삭제
    properties:
      hibernate:
        format_sql: true
        show_sql: true
  threads:
    virtual:
      enabled: true

# 개발환경용 CORS 설정
cors:
  allowed-origins:
    - http://localhost:3000      # Next.js 기본 포트
    - http://localhost:3001      # 추가 개발 포트
    - http://127.0.0.1:3000
    - https://localhost:3000     # HTTPS 로컬 개발
  allowed-methods:
    - GET
    - POST
    - PUT
    - DELETE
    - PATCH
    - OPTIONS
  allowed-headers:
    - "*"
  exposed-headers:
    - Authorization
    - Set-Cookie
  allow-credentials: true
  max-age: 3600
