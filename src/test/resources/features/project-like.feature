# language: ko

@acceptance @project @like
기능: 프로젝트 좋아요
  회원이 프로젝트 좋아요 버튼을 토글 방식으로 누를 수 있어야 한다.

  @like @happy-path
  시나리오: 좋아요 버튼을 누르면 좋아요 상태로 변경된다
    먼저 "김철수" 회원이 로그인한 상태이다
    그리고 "김철수"의 좋아요 버튼 상태가 "미선택"이다
    그리고 "AI 뉴스 요약 서비스" 프로젝트의 좋아요 수가 10개이다
    만약 "김철수"가 해당 프로젝트에 좋아요를 누르면
    그러면 좋아요 등록에 성공한다
    그리고 "김철수"의 좋아요 버튼 상태가 "선택"으로 변경된다
    그리고 좋아요 수가 11개로 증가한다

  @like @happy-path
  시나리오: 좋아요 상태에서 버튼을 다시 누르면 취소된다
    먼저 "김철수" 회원이 "AI 뉴스 요약 서비스" 프로젝트에 좋아요를 누른 상태이다
    그리고 "김철수"의 좋아요 버튼 상태가 "선택"이다
    그리고 "AI 뉴스 요약 서비스" 프로젝트의 좋아요 수가 11개이다
    만약 "김철수"가 같은 좋아요 버튼을 다시 누르면
    그러면 좋아요 취소에 성공한다
    그리고 "김철수"의 좋아요 버튼 상태가 "미선택"으로 변경된다
    그리고 좋아요 수가 10개로 감소한다

  @like @auth
  시나리오: 비회원은 좋아요를 누를 수 없다
    먼저 로그인하지 않은 상태이다
    만약 프로젝트에 좋아요를 누르면
    그러면 요청이 거부된다
    그리고 "로그인이 필요합니다" 메시지를 확인한다

  @like @concurrency
  시나리오: 같은 회원이 동시에 여러 번 눌러도 최종 좋아요 상태가 일관되어야 한다
    먼저 "김철수" 회원이 로그인한 상태이다
    그리고 "김철수"의 좋아요 버튼 상태가 "미선택"이다
    그리고 "AI 뉴스 요약 서비스" 프로젝트의 좋아요 수가 10개이다
    만약 "김철수"가 같은 프로젝트의 좋아요 버튼을 동시에 2번 누르면
    그러면 "김철수"의 최종 좋아요 상태는 1회 토글 결과와 동일하다
    그리고 좋아요 수는 10개 또는 11개 중 하나의 일관된 값이어야 한다
    그리고 중복 좋아요 데이터가 생성되지 않는다

  @like @concurrency
  시나리오: 여러 회원이 동시에 좋아요를 눌러도 좋아요 수가 정확해야 한다
    먼저 "AI 뉴스 요약 서비스" 프로젝트의 좋아요 수가 10개이다
    그리고 좋아요를 누르지 않은 회원 100명이 존재한다
    만약 100명의 회원이 동시에 좋아요 버튼을 누르면
    그러면 좋아요 수는 110개가 된다
    그리고 각 회원의 좋아요 상태가 "선택"으로 저장된다
    그리고 요청 처리 중 데이터 정합성 오류가 발생하지 않는다
