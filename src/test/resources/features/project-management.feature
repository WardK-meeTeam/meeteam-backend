# language: ko

@acceptance @project-management
기능: 프로젝트 관리
  프로젝트 리더가 팀원을 관리하고, 프로젝트 정보를 수정하고, 상태를 변경할 수 있어야 한다.

  배경:
    먼저 "홍길동"이 리더인 "AI 뉴스 요약 서비스" 프로젝트가 존재한다
    그리고 다음 팀원들이 참여 중이다:
      | 이름    | 역할   | 포지션     |
      | 홍길동  | 리더   | 백엔드     |
      | 김철수  | 팀원   | 프론트엔드 |
      | 이영희  | 팀원   | 디자인     |

  # ============================================================================
  # 팀원 관리
  # ============================================================================

  @member-management @happy-path
  시나리오: 리더가 팀원 현황을 확인할 수 있다
    먼저 "홍길동" 리더가 로그인한 상태이다
    만약 "홍길동"이 프로젝트 팀원 관리 페이지에 접근하면
    그러면 현재 멤버 수 "3명"을 확인할 수 있다
    그리고 다음 팀원 정보를 확인할 수 있다:
      | 이름    | 역할   | 포지션     |
      | 홍길동  | 리더   | 백엔드     |
      | 김철수  | 팀원   | 프론트엔드 |
      | 이영희  | 팀원   | 디자인     |

  @member-management @happy-path
  시나리오: 리더가 대기 중인 지원서 수를 확인할 수 있다
    먼저 "박지민"과 "최민수"가 프로젝트에 지원한 상태이다
    그리고 "홍길동" 리더가 로그인한 상태이다
    만약 "홍길동"이 프로젝트 팀원 관리 페이지에 접근하면
    그러면 "대기 중인 지원서 2건"을 확인할 수 있다

  @member-expel @happy-path
  시나리오: 리더가 팀원을 방출할 수 있다
    먼저 "홍길동" 리더가 로그인한 상태이다
    만약 "홍길동"이 "김철수"를 프로젝트에서 방출하면
    그러면 방출에 성공한다
    그리고 "김철수"가 팀원 목록에서 제거된다
    그리고 현재 멤버 수가 "2명"으로 감소한다
    그리고 프론트엔드 포지션 현재 인원이 감소한다

  @member-expel @error-case
  시나리오: 리더 자신은 방출할 수 없다
    먼저 "홍길동" 리더가 로그인한 상태이다
    만약 "홍길동"이 자신을 프로젝트에서 방출하려고 하면
    그러면 방출에 실패한다
    그리고 "리더는 방출할 수 없습니다" 메시지를 확인한다

  @member-expel @auth
  시나리오: 일반 팀원은 다른 팀원을 방출할 수 없다
    먼저 "김철수" 팀원이 로그인한 상태이다
    만약 "김철수"가 "이영희"를 프로젝트에서 방출하려고 하면
    그러면 방출에 실패한다
    그리고 "권한이 없습니다" 메시지를 확인한다

  # ============================================================================
  # 지원자 관리
  # ============================================================================

  @applicant-management @happy-path
  시나리오: 리더가 지원자 목록을 확인할 수 있다
    먼저 다음 지원자들이 대기 중이다:
      | 이름    | 지원 포지션 | 지원일      |
      | 박지민  | 프론트엔드  | 2024-03-10 |
      | 최민수  | 백엔드      | 2024-03-11 |
    그리고 "홍길동" 리더가 로그인한 상태이다
    만약 "홍길동"이 지원자 관리 페이지에 접근하면
    그러면 "지원자 목록 2명"을 확인할 수 있다
    그리고 각 지원자의 이름, 지원 포지션, 지원일을 확인할 수 있다

  @applicant-management @happy-path
  시나리오: 리더가 지원서 상세 내용을 확인할 수 있다
    먼저 "박지민"이 다음 내용으로 지원한 상태이다:
      | 지원 포지션 | 나이  | 성별 | 자기소개                        |
      | 프론트엔드  | 25세 | 여성 | 리액트 경험 3년, 열정적입니다.   |
    그리고 "홍길동" 리더가 로그인한 상태이다
    만약 "홍길동"이 "박지민"의 지원서 상세를 조회하면
    그러면 지원 포지션 "프론트엔드"를 확인할 수 있다
    그리고 지원자의 나이, 성별, 자기소개를 확인할 수 있다
    그리고 지원자의 전체 프로필 페이지로 이동할 수 있다

  # ============================================================================
  # 프로젝트 수정
  # ============================================================================

  @edit @happy-path
  시나리오: 리더가 프로젝트 정보를 수정할 수 있다
    먼저 "홍길동" 리더가 로그인한 상태이다
    만약 "홍길동"이 프로젝트 정보를 다음과 같이 수정하면:
      | 항목        | 변경 전                   | 변경 후                      |
      | 프로젝트명   | AI 뉴스 요약 서비스        | AI 뉴스 3줄 요약 서비스       |
      | 소개글      | 기존 소개글               | 더 자세한 소개글              |
    그러면 프로젝트 수정에 성공한다
    그리고 변경된 정보가 프로젝트 상세에 반영된다

  @edit @happy-path
  시나리오: 리더가 모집 포지션을 추가할 수 있다
    먼저 "홍길동" 리더가 로그인한 상태이다
    만약 "홍길동"이 다음 모집 포지션을 추가하면:
      | 포지션  | 상세 분야 | 모집 인원 |
      | 기획   | PM       | 1명      |
    그러면 모집 포지션 추가에 성공한다
    그리고 "기획" 포지션이 모집 목록에 표시된다

  @edit @happy-path
  시나리오: 리더가 모집 인원을 변경할 수 있다
    먼저 프론트엔드 포지션 모집 인원이 2명이다
    그리고 "홍길동" 리더가 로그인한 상태이다
    만약 "홍길동"이 프론트엔드 모집 인원을 3명으로 변경하면
    그러면 모집 인원 변경에 성공한다
    그리고 프론트엔드 포지션이 "0/3명"으로 표시된다

  @edit @auth
  시나리오: 일반 팀원은 프로젝트 정보를 수정할 수 없다
    먼저 "김철수" 팀원이 로그인한 상태이다
    만약 "김철수"가 프로젝트 정보 수정을 요청하면
    그러면 수정에 실패한다
    그리고 "권한이 없습니다" 메시지를 확인한다

  # ============================================================================
  # 프로젝트 상태 관리
  # ============================================================================

  @status @happy-path
  시나리오: 리더가 모집 상태를 모집완료로 변경할 수 있다
    먼저 "AI 뉴스 요약 서비스" 프로젝트의 모집 상태가 "모집중"이다
    그리고 "홍길동" 리더가 로그인한 상태이다
    만약 "홍길동"이 모집 상태를 "모집완료"로 변경하면
    그러면 상태 변경에 성공한다
    그리고 프로젝트 상세에서 더 이상 "지원하기" 버튼이 표시되지 않는다

  @status @happy-path
  시나리오: 리더가 모집 상태를 다시 모집중으로 변경할 수 있다
    먼저 "AI 뉴스 요약 서비스" 프로젝트의 모집 상태가 "모집완료"이다
    그리고 "홍길동" 리더가 로그인한 상태이다
    만약 "홍길동"이 모집 상태를 "모집중"으로 변경하면
    그러면 상태 변경에 성공한다
    그리고 프로젝트 상세에서 "지원하기" 버튼이 다시 표시된다

  @status @happy-path
  시나리오: 리더가 프로젝트 상태를 완료로 변경할 수 있다
    먼저 "AI 뉴스 요약 서비스" 프로젝트의 상태가 "진행중"이다
    그리고 "홍길동" 리더가 로그인한 상태이다
    만약 "홍길동"이 프로젝트 상태를 "완료됨"으로 변경하면
    그러면 상태 변경에 성공한다
    그리고 프로젝트 카드에 "완료됨" 표시가 나타난다

  @status @auth
  시나리오: 일반 팀원은 프로젝트 상태를 변경할 수 없다
    먼저 "김철수" 팀원이 로그인한 상태이다
    만약 "김철수"가 모집 상태 변경을 요청하면
    그러면 상태 변경에 실패한다
    그리고 "권한이 없습니다" 메시지를 확인한다

  # ============================================================================
  # 프로젝트 삭제
  # ============================================================================

  @delete @happy-path
  시나리오: 리더가 프로젝트를 삭제할 수 있다
    먼저 "홍길동" 리더가 로그인한 상태이다
    만약 "홍길동"이 프로젝트 삭제를 요청하면
    그러면 프로젝트 삭제에 성공한다
    그리고 프로젝트 목록에서 해당 프로젝트가 사라진다

  @delete @auth
  시나리오: 일반 팀원은 프로젝트를 삭제할 수 없다
    먼저 "김철수" 팀원이 로그인한 상태이다
    만약 "김철수"가 프로젝트 삭제를 요청하면
    그러면 삭제에 실패한다
    그리고 "권한이 없습니다" 메시지를 확인한다