# language: ko

@acceptance @project-management
기능: 프로젝트 관리
  프로젝트 리더가 팀원을 관리하고, 프로젝트 정보를 수정하고, 상태를 변경할 수 있어야 한다.

  배경:
    먼저 "홍길동"이 로그인한 상태이다
    그리고 "김철수"이 로그인한 상태이다
    그리고 "이영희"이 로그인한 상태이다
    그리고 "박지민"이 로그인한 상태이다
    그리고 "최민수"이 로그인한 상태이다
    그리고 "홍길동"이 다음 포지션을 모집하는 프로젝트를 등록했다
      | 직군   | 포지션         | 모집인원 |
      | 백엔드 | Java/Spring   | 2명     |
      | 프론트 | 웹 프론트엔드  | 2명     |
      | 디자인 | UI/UX 디자이너 | 1명     |
    그리고 "김철수"가 "프론트 - 웹 프론트엔드" 포지션에 지원하여 승인된 상태이다
    그리고 "이영희"가 "디자인 - UI/UX 디자이너" 포지션에 지원하여 승인된 상태이다
    # 현재 상태:
    # - 홍길동: 리더
    # - 김철수: 팀원 (프론트 - 웹 프론트엔드) 1/2명
    # - 이영희: 팀원 (디자인 - UI/UX 디자이너) 1/1명 마감
    # - 백엔드 - Java/Spring: 0/2명 모집중

  # ============================================================================
  # 팀원 관리
  # ============================================================================

  @member-management @happy-path
  시나리오: 리더가 팀원 현황을 확인할 수 있다
    만약 "홍길동"이 프로젝트 팀원 목록을 조회하면
    그러면 현재 멤버 수 3명을 확인할 수 있다
    그리고 다음 팀원 정보를 확인할 수 있다
      | 이름    | 역할   | 포지션                    |
      | 홍길동  | 리더   | 백엔드 - Java/Spring      |
      | 김철수  | 팀원   | 프론트 - 웹 프론트엔드     |
      | 이영희  | 팀원   | 디자인 - UI/UX 디자이너   |

  @member-management @happy-path
  시나리오: 리더가 대기 중인 지원자 목록을 확인할 수 있다
    먼저 "박지민"이 "백엔드 - Java/Spring" 포지션에 지원한 상태이다
    그리고 "최민수"가 "백엔드 - Java/Spring" 포지션에 지원한 상태이다
    만약 "홍길동"이 프로젝트 지원자 목록을 조회하면
    그러면 대기 중인 지원자 2명을 확인할 수 있다

  @member-expel @happy-path
  시나리오: 리더가 팀원을 방출할 수 있다
    만약 "홍길동"이 "김철수"를 프로젝트에서 방출하면
    그러면 방출에 성공한다
    그리고 "김철수"가 팀원 목록에서 제거된다
    그리고 "프론트 - 웹 프론트엔드" 포지션의 현재 인원은 0명이다

  @member-expel @error-case
  시나리오: 리더 자신은 방출할 수 없다
    만약 "홍길동"이 자신을 프로젝트에서 방출하려고 하면
    그러면 방출에 실패한다
    그리고 "리더는 방출할 수 없습니다" 메시지를 확인한다

  @member-expel @auth
  시나리오: 일반 팀원은 다른 팀원을 방출할 수 없다
    만약 "김철수"가 "이영희"를 프로젝트에서 방출하려고 하면
    그러면 방출에 실패한다
    그리고 "권한이 없습니다" 메시지를 확인한다

  # ============================================================================
  # 지원자 관리
  # ============================================================================

  @applicant-management @happy-path
  시나리오: 리더가 지원자 목록을 확인할 수 있다
    먼저 "박지민"이 "백엔드 - Java/Spring" 포지션에 지원한 상태이다
    그리고 "최민수"가 "백엔드 - Java/Spring" 포지션에 지원한 상태이다
    만약 "홍길동"이 프로젝트 지원자 목록을 조회하면
    그러면 대기 중인 지원자 2명을 확인할 수 있다
    그리고 각 지원자의 이름, 지원 포지션, 지원일을 확인할 수 있다

  @applicant-management @happy-path
  시나리오: 리더가 지원서 상세 내용을 확인할 수 있다
    먼저 "박지민"이 "백엔드 - Java/Spring" 포지션에 지원한 상태이다
    만약 "홍길동"이 "박지민"의 지원서 상세를 조회하면
    그러면 지원 포지션 "백엔드 - Java/Spring"를 확인할 수 있다
    그리고 지원자의 이름, 지원 사유를 확인할 수 있다

  # ============================================================================
  # 프로젝트 수정
  # ============================================================================

  @edit @happy-path
  시나리오: 리더가 프로젝트 정보를 수정할 수 있다
    만약 "홍길동"이 프로젝트 제목을 "AI 뉴스 3줄 요약 서비스"로 수정하면
    그러면 프로젝트 수정에 성공한다
    그리고 변경된 정보가 프로젝트 상세에 반영된다

  @edit @happy-path
  시나리오: 리더가 모집 포지션을 추가할 수 있다
    만약 "홍길동"이 다음 모집 포지션을 추가하면:
      | 직군 | 포지션 | 모집인원 |
      | 기획 | PM    | 1명     |
    그러면 모집 포지션 추가에 성공한다
    그리고 "기획 - PM" 포지션이 모집 목록에 표시된다

  @edit @happy-path
  시나리오: 리더가 모집 인원을 변경할 수 있다
    만약 "홍길동"이 "프론트 - 웹 프론트엔드" 모집 인원을 3명으로 변경하면
    그러면 모집 인원 변경에 성공한다
    그리고 "프론트 - 웹 프론트엔드" 포지션이 "1/3명"으로 표시된다

  @edit @auth
  시나리오: 일반 팀원은 프로젝트 정보를 수정할 수 없다
    만약 "김철수"가 프로젝트 정보 수정을 요청하면
    그러면 수정에 실패한다
    그리고 "권한이 없습니다" 메시지를 확인한다

  # ============================================================================
  # 프로젝트 상태 관리
  # ============================================================================

  @status @happy-path
  시나리오: 리더가 모집 상태를 모집마감으로 변경할 수 있다
    만약 리더 "홍길동"이 프로젝트 모집을 마감하면
    그러면 프로젝트의 모집 상태가 "모집마감"으로 변경된다

  @status @happy-path
  시나리오: 리더가 모집 상태를 다시 모집중으로 변경할 수 있다
    먼저 리더 "홍길동"이 프로젝트 모집을 마감한 상태이다
    만약 리더 "홍길동"이 프로젝트 모집을 재개하면
    그러면 프로젝트의 모집 상태가 "모집중"으로 변경된다

  @status @auth
  시나리오: 일반 팀원은 프로젝트 모집 상태를 변경할 수 없다
    만약 "김철수"가 프로젝트 모집 상태 변경을 요청하면
    그러면 상태 변경에 실패한다
    그리고 "권한이 없습니다" 메시지를 확인한다

  @status @edge-case
  시나리오: 모든 포지션의 모집 인원이 채워지면 프로젝트가 자동으로 모집 마감된다
    # 현재 상태: 백엔드 0/2, 프론트 1/2, 디자인 1/1(마감)
    먼저 "박지민"이 "백엔드 - Java/Spring" 포지션에 지원하여 승인된 상태이다
    그리고 "최민수"가 "백엔드 - Java/Spring" 포지션에 지원하여 승인된 상태이다
    # 백엔드 2/2 마감
    # 아직 프론트 1/2 남음 -> 프로젝트 모집중 유지
    # 프론트도 채워야 전체 마감

  @status @edge-case
  시나리오: 리더가 모집을 마감하면 남은 인원과 관계없이 모든 포지션이 마감된다
    만약 리더 "홍길동"이 프로젝트 모집을 마감하면
    그러면 프로젝트의 모집 상태가 "모집마감"으로 변경된다
    그리고 모든 포지션의 모집 상태가 "마감"이다

  # ============================================================================
  # 프로젝트 삭제
  # ============================================================================

  @delete @happy-path
  시나리오: 리더가 프로젝트를 삭제할 수 있다
    만약 "홍길동"이 프로젝트 삭제를 요청하면
    그러면 프로젝트 삭제에 성공한다

  @delete @auth
  시나리오: 일반 팀원은 프로젝트를 삭제할 수 없다
    만약 "김철수"가 프로젝트 삭제를 요청하면
    그러면 삭제에 실패한다
    그리고 "권한이 없습니다" 메시지를 확인한다